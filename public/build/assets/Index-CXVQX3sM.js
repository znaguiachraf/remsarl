import{a as o,j as s,H as Ke,r as Me}from"./app-D_JLr605.js";import{P as Fe}from"./ProjectLayout-BLz5VXiF.js";import{I as me,a as Y,b as ee,c as $e,d as Be}from"./Icons-BeQ83LeY.js";import{c as j,p as W,a as We,i as Ge,s as _,b as ze,d as Ve,e as Ae,f as Ue,g as He,h as S,j as Ze,k as qe,l as Xe,m as Je,n as Ne,o as Qe,q as Ye,r as ea,t as aa,u as Ee,v as ta,w as ra,x as sa,y as Oe,z as na,A as ie,B as we,R as la,S as ia,D as ke,C as Ie,E as $,F as oa,G as oe,L as K,Z as Se,H as ce,I as ca,J as da,K as ua,M as ma,N as pe,O as ve,P as q,Q as pa,T as va,U as fa,V as xa,W as ha,X as ga,Y as ya,_ as ba,$ as ja,a0 as Pa,a1 as Aa,a2 as Na,a3 as Ea,a4 as B,a5 as ne,a6 as fe,a7 as Oa,a8 as wa,a9 as ka,aa as Ia,ab as Sa,ac as Ca,ad as Da,ae as Ra,af as Ta,ag as _a,ah as La,ai as H,aj as ae,ak as te,al as re,am as se,an as Z,ao as Ka,ap as F}from"./BarChart-DNy7ybps.js";import"./AuthErrorHandler-DUQsMJae.js";import"./SecondaryButton-C5Psiqnm.js";import"./transition-BeUOXmgI.js";import"./Dropdown-BPdzR8s0.js";var Ce=e=>e.graphicalItems.polarItems,Ma=j([W,We],Ge),X=j([Ce,_,Ma],ze),Fa=j([X],Ve),J=j([Fa,Ae],Ue),$a=j([J,_,X],He);j([J,_,X],(e,a,t)=>t.length>0?e.flatMap(r=>t.flatMap(n=>{var i,d=S(r,(i=a.dataKey)!==null&&i!==void 0?i:n.dataKey);return{value:d,errorDomain:[]}})).filter(Boolean):a?.dataKey!=null?e.map(r=>({value:S(r,a.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]})));var xe=()=>{},Ba=j([J,_,X,Ze,W],qe),Wa=j([_,Xe,Je,xe,Ba,xe,Ne,W],Qe),De=j([_,Ne,J,$a,Ye,W,Wa],ea),Ga=j([De,aa,Ee],ta),za=j([_,De,Ga,W],ra);j([Ee,za],sa);function he(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function ge(e){for(var a=1;a<arguments.length;a++){var t=arguments[a]!=null?arguments[a]:{};a%2?he(Object(t),!0).forEach(function(r){Va(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):he(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function Va(e,a,t){return(a=Ua(a))in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function Ua(e){var a=Ha(e,"string");return typeof a=="symbol"?a:a+""}function Ha(e,a){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var r=t.call(e,a);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}var Za=(e,a)=>a,de=j([Ce,Za],(e,a)=>e.filter(t=>t.type==="pie").find(t=>t.id===a)),qa=[],ue=(e,a,t)=>t?.length===0?qa:t,Re=j([Ae,de,ue],(e,a,t)=>{var{chartData:r}=e;if(a!=null){var n;if(a?.data!=null&&a.data.length>0?n=a.data:n=r,(!n||!n.length)&&t!=null&&(n=t.map(i=>ge(ge({},a.presentationProps),i.props))),n!=null)return n}}),Xa=j([Re,de,ue],(e,a,t)=>{if(!(e==null||a==null))return e.map((r,n)=>{var i,d=S(r,a.nameKey,a.name),u;return t!=null&&(i=t[n])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?u=t[n].props.fill:typeof r=="object"&&r!=null&&"fill"in r?u=r.fill:u=a.fill,{value:Oe(d,a.dataKey),color:u,payload:r,type:a.legendType}})}),Ja=j([Re,de,ue,na],(e,a,t,r)=>{if(!(a==null||e==null))return ht({offset:r,pieSettings:a,displayedData:e,cells:t})}),Qa=["key"],Ya=["onMouseEnter","onClick","onMouseLeave"],et=["id"],at=["id"];function ye(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function h(e){for(var a=1;a<arguments.length;a++){var t=arguments[a]!=null?arguments[a]:{};a%2?ye(Object(t),!0).forEach(function(r){tt(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ye(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function tt(e,a,t){return(a=rt(a))in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function rt(e){var a=st(e,"string");return typeof a=="symbol"?a:a+""}function st(e,a){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var r=t.call(e,a);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}function C(){return C=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},C.apply(null,arguments)}function Q(e,a){if(e==null)return{};var t,r,n=nt(e,a);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],a.indexOf(t)===-1&&{}.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}function nt(e,a){if(e==null)return{};var t={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(a.indexOf(r)!==-1)continue;t[r]=e[r]}return t}function lt(e){var a=o.useMemo(()=>Ie(e.children,ce),[e.children]),t=$(r=>Xa(r,e.id,a));return t==null?null:o.createElement(oa,{legendPayload:t})}var it=o.memo(e=>{var{dataKey:a,nameKey:t,sectors:r,stroke:n,strokeWidth:i,fill:d,name:u,hide:m,tooltipType:v,id:y}=e,g={dataDefinedOnItem:r.map(c=>c.tooltipPayload),getPosition:c=>{var x;return(x=r[Number(c)])===null||x===void 0?void 0:x.tooltipPosition},settings:{stroke:n,strokeWidth:i,fill:d,dataKey:a,nameKey:t,name:Oe(u,a),hide:m,type:v,color:d,unit:"",graphicalItemId:y}};return o.createElement(ca,{tooltipEntrySettings:g})}),ot=(e,a)=>e>a?"start":e<a?"end":"middle",ct=(e,a,t)=>typeof a=="function"?B(a(e),t,t*.8):B(a,t,t*.8),dt=(e,a,t)=>{var{top:r,left:n,width:i,height:d}=a,u=Ea(i,d),m=n+B(e.cx,i,i/2),v=r+B(e.cy,d,d/2),y=B(e.innerRadius,u,0),g=ct(t,e.outerRadius,u),c=e.maxRadius||Math.sqrt(i*i+d*d)/2;return{cx:m,cy:v,innerRadius:y,outerRadius:g,maxRadius:c}},ut=(e,a)=>{var t=q(a-e),r=Math.min(Math.abs(a-e),360);return t*r},mt=(e,a)=>{if(o.isValidElement(e))return o.cloneElement(e,a);if(typeof e=="function")return e(a);var t=oe("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:r}=a,n=Q(a,Qa);return o.createElement(Oa,C({},n,{type:"linear",className:t}))},pt=(e,a,t)=>{if(o.isValidElement(e))return o.cloneElement(e,a);var r=t;if(typeof e=="function"&&(r=e(a),o.isValidElement(r)))return r;var n=oe("recharts-pie-label-text",wa(e));return o.createElement(ka,C({},a,{alignmentBaseline:"middle",className:n}),r)};function vt(e){var{sectors:a,props:t,showLabels:r}=e,{label:n,labelLine:i,dataKey:d}=t;if(!r||!n||!a)return null;var u=we(t),m=fe(n),v=fe(i),y=typeof n=="object"&&"offsetRadius"in n&&typeof n.offsetRadius=="number"&&n.offsetRadius||20,g=a.map((c,x)=>{var l=(c.startAngle+c.endAngle)/2,p=ne(c.cx,c.cy,c.outerRadius+y,l),O=h(h(h(h({},u),c),{},{stroke:"none"},m),{},{index:x,textAnchor:ot(p.x,c.cx)},p),f=h(h(h(h({},u),c),{},{fill:"none",stroke:c.fill},v),{},{index:x,points:[ne(c.cx,c.cy,c.outerRadius,l),p],key:"line"});return o.createElement(Se,{zIndex:ke.label,key:"label-".concat(c.startAngle,"-").concat(c.endAngle,"-").concat(c.midAngle,"-").concat(x)},o.createElement(K,null,i&&mt(i,f),pt(n,O,S(c,d))))});return o.createElement(K,{className:"recharts-pie-labels"},g)}function ft(e){var{sectors:a,props:t,showLabels:r}=e,{label:n}=t;return typeof n=="object"&&n!=null&&"position"in n?o.createElement(Na,{label:n}):o.createElement(vt,{sectors:a,props:t,showLabels:r})}function xt(e){var{sectors:a,activeShape:t,inactiveShape:r,allOtherPieProps:n,shape:i,id:d}=e,u=$(va),m=$(fa),v=$(xa),{onMouseEnter:y,onClick:g,onMouseLeave:c}=n,x=Q(n,Ya),l=ha(y,n.dataKey,d),p=ga(c),O=ya(g,n.dataKey,d);return a==null||a.length===0?null:o.createElement(o.Fragment,null,a.map((f,E)=>{if(f?.startAngle===0&&f?.endAngle===0&&a.length!==1)return null;var D=v==null||v===d,k=String(E)===u&&(m==null||n.dataKey===m)&&D,w=u?r:null,A=t&&k?t:w,P=h(h({},f),{},{stroke:f.stroke,tabIndex:-1,[ja]:E,[ba]:d});return o.createElement(K,C({key:"sector-".concat(f?.startAngle,"-").concat(f?.endAngle,"-").concat(f.midAngle,"-").concat(E),tabIndex:-1,className:"recharts-pie-sector"},Pa(x,f,E),{onMouseEnter:l(f,E),onMouseLeave:p(f,E),onClick:O(f,E)}),o.createElement(Aa,C({option:i??A,index:E,shapeType:"sector",isActive:k},P)))}))}function ht(e){var a,{pieSettings:t,displayedData:r,cells:n,offset:i}=e,{cornerRadius:d,startAngle:u,endAngle:m,dataKey:v,nameKey:y,tooltipType:g}=t,c=Math.abs(t.minAngle),x=ut(u,m),l=Math.abs(x),p=r.length<=1?0:(a=t.paddingAngle)!==null&&a!==void 0?a:0,O=r.filter(A=>S(A,v,0)!==0).length,f=(l>=360?O:O-1)*p,E=l-O*c-f,D=r.reduce((A,P)=>{var b=S(P,v,0);return A+(ve(b)?b:0)},0),k;if(D>0){var w;k=r.map((A,P)=>{var b=S(A,v,0),M=S(A,y,P),I=dt(t,i,A),R=(ve(b)?b:0)/D,T,L=h(h({},A),n&&n[P]&&n[P].props);P?T=w.endAngle+q(x)*p*(b!==0?1:0):T=u;var G=T+q(x)*((b!==0?c:0)+R*E),z=(T+G)/2,V=(I.innerRadius+I.outerRadius)/2,U=[{name:M,value:b,payload:L,dataKey:v,type:g,graphicalItemId:t.id}],Le=ne(I.cx,I.cy,V,z);return w=h(h(h(h({},t.presentationProps),{},{percent:R,cornerRadius:typeof d=="string"?parseFloat(d):d,name:M,tooltipPayload:U,midAngle:z,middleRadius:V,tooltipPosition:Le},L),I),{},{value:b,dataKey:v,startAngle:T,endAngle:G,payload:L,paddingAngle:q(x)*p}),w})}return k}function gt(e){var{showLabels:a,sectors:t,children:r}=e,n=o.useMemo(()=>!a||!t?[]:t.map(i=>({value:i.value,payload:i.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:i.cx,cy:i.cy,innerRadius:i.innerRadius,outerRadius:i.outerRadius,startAngle:i.startAngle,endAngle:i.endAngle,clockWise:!1},fill:i.fill})),[t,a]);return o.createElement(pa,{value:a?n:void 0},r)}function yt(e){var{props:a,previousSectorsRef:t,id:r}=e,{sectors:n,isAnimationActive:i,animationBegin:d,animationDuration:u,animationEasing:m,activeShape:v,inactiveShape:y,onAnimationStart:g,onAnimationEnd:c}=a,x=da(a,"recharts-pie-"),l=t.current,[p,O]=o.useState(!1),f=o.useCallback(()=>{typeof c=="function"&&c(),O(!1)},[c]),E=o.useCallback(()=>{typeof g=="function"&&g(),O(!0)},[g]);return o.createElement(gt,{showLabels:!p,sectors:n},o.createElement(ua,{animationId:x,begin:d,duration:u,isActive:i,easing:m,onAnimationStart:E,onAnimationEnd:f,key:x},D=>{var k,w=[],A=n&&n[0],P=(k=A?.startAngle)!==null&&k!==void 0?k:0;return n?.forEach((b,M)=>{var I=l&&l[M],R=M>0?ma(b,"paddingAngle",0):0;if(I){var T=pe(I.endAngle-I.startAngle,b.endAngle-b.startAngle,D),L=h(h({},b),{},{startAngle:P+R,endAngle:P+T+R});w.push(L),P=L.endAngle}else{var{endAngle:G,startAngle:z}=b,V=pe(0,G-z,D),U=h(h({},b),{},{startAngle:P+R,endAngle:P+V+R});w.push(U),P=U.endAngle}}),t.current=w,o.createElement(K,null,o.createElement(xt,{sectors:w,activeShape:v,inactiveShape:y,allOtherPieProps:a,shape:a.shape,id:r}))}),o.createElement(ft,{showLabels:!p,sectors:n,props:a}),a.children)}var bt={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:ke.area};function jt(e){var{id:a}=e,t=Q(e,et),{hide:r,className:n,rootTabIndex:i}=e,d=o.useMemo(()=>Ie(e.children,ce),[e.children]),u=$(y=>Ja(y,a,d)),m=o.useRef(null),v=oe("recharts-pie",n);return r||u==null?(m.current=null,o.createElement(K,{tabIndex:i,className:v})):o.createElement(Se,{zIndex:e.zIndex},o.createElement(it,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:u,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:a}),o.createElement(K,{tabIndex:i,className:v},o.createElement(yt,{props:h(h({},t),{},{sectors:u}),previousSectorsRef:m,id:a})))}function Te(e){var a=ie(e,bt),{id:t}=a,r=Q(a,at),n=we(r);return o.createElement(la,{id:t,type:"pie"},i=>o.createElement(o.Fragment,null,o.createElement(ia,{type:"pie",id:i,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:n,maxRadius:a.maxRadius}),o.createElement(lt,C({},r,{id:i})),o.createElement(jt,C({},r,{id:i}))))}Te.displayName="Pie";function Pt(e){var a=Ia();return o.useEffect(()=>{a(Sa(e))},[a,e]),null}var At=["layout"];function le(){return le=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},le.apply(null,arguments)}function Nt(e,a){if(e==null)return{};var t,r,n=Et(e,a);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],a.indexOf(t)===-1&&{}.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}function Et(e,a){if(e==null)return{};var t={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(a.indexOf(r)!==-1)continue;t[r]=e[r]}return t}var Ot={top:5,right:5,bottom:5,left:5},_e={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Ot,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},wt=o.forwardRef(function(a,t){var r,n=ie(a.categoricalChartProps,_e),{layout:i}=n,d=Nt(n,At),{chartName:u,defaultTooltipEventType:m,validateTooltipEventTypes:v,tooltipPayloadSearcher:y}=a,g={chartName:u,defaultTooltipEventType:m,validateTooltipEventTypes:v,tooltipPayloadSearcher:y,eventEmitter:void 0};return o.createElement(Ca,{preloadedState:{options:g},reduxStoreName:(r=n.id)!==null&&r!==void 0?r:u},o.createElement(Da,{chartData:n.data}),o.createElement(Ra,{layout:i,margin:n.margin}),o.createElement(Ta,{baseValue:void 0,accessibilityLayer:n.accessibilityLayer,barCategoryGap:n.barCategoryGap,maxBarSize:n.maxBarSize,stackOffset:n.stackOffset,barGap:n.barGap,barSize:n.barSize,syncId:n.syncId,syncMethod:n.syncMethod,className:n.className,reverseStackOrder:n.reverseStackOrder}),o.createElement(Pt,{cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius}),o.createElement(_a,le({},d,{ref:t})))});function be(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function je(e){for(var a=1;a<arguments.length;a++){var t=arguments[a]!=null?arguments[a]:{};a%2?be(Object(t),!0).forEach(function(r){kt(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):be(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function kt(e,a,t){return(a=It(a))in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function It(e){var a=St(e,"string");return typeof a=="symbol"?a:a+""}function St(e,a){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var r=t.call(e,a);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}var Ct=["item"],Dt=je(je({},_e),{},{layout:"centric",startAngle:0,endAngle:360}),Rt=o.forwardRef((e,a)=>{var t=ie(e,Dt);return o.createElement(wt,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Ct,tooltipPayloadSearcher:La,categoricalChartProps:t,ref:a})});function N(e){return Number(e).toLocaleString()}const Pe=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#EC4899","#06B6D4","#84CC16"];function Wt({project:e,salesVsExpenses:a,expensesByCategory:t,topProducts:r,salesByHour:n,salesByDay:i,filters:d={},netIncomeSummary:u}){const m=e?.primary_color||"#3B82F6",v=e?.secondary_color||"#10B981",y=a?.labels?.map((l,p)=>({label:l,sales:a.datasets?.[0]?.data?.[p]??0,expenses:a.datasets?.[1]?.data?.[p]??0}))??[],g=l=>{Me.get(route("projects.modules.analytics.index",e.id),{...d,...l},{preserveState:!0})},c=n?.reduce((l,p)=>p.revenue>(l?.revenue??0)?p:l,null),x=i?.reduce((l,p)=>p.revenue>(l?.revenue??0)?p:l,null);return s.jsxs(Fe,{header:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800",children:"Analytics"}),s.jsx("p",{className:"mt-0.5 text-sm text-gray-500",children:"Sales vs expenses, top products, and peak times"})]})}),children:[s.jsx(Ke,{title:`${e?.name} - Analytics`}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-3 rounded-lg border border-gray-200 bg-white p-4",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Period:"}),s.jsxs("select",{value:d.period??"month",onChange:l=>g({period:l.target.value}),className:"rounded-md border-gray-300 text-sm focus:border-blue-500 focus:ring-blue-500",children:[s.jsx("option",{value:"month",children:"By Month"}),s.jsx("option",{value:"day",children:"By Day"})]}),s.jsx("label",{className:"ml-4 text-sm font-medium text-gray-700",children:"Months:"}),s.jsx("select",{value:d.months??12,onChange:l=>g({months:parseInt(l.target.value,10)}),className:"rounded-md border-gray-300 text-sm focus:border-blue-500 focus:ring-blue-500",children:[3,6,12,24].map(l=>s.jsxs("option",{value:l,children:[l," months"]},l))})]}),u&&s.jsxs("div",{className:"rounded-xl border p-4 shadow-sm",style:{borderColor:`${m}40`,backgroundColor:`${m}08`},children:[s.jsxs("h3",{className:"flex items-center gap-2 text-sm font-medium text-gray-500",children:[s.jsx(me,{className:"h-4 w-4",style:{color:m}}),"Net income summary (filtered period)"]}),s.jsxs("div",{className:"mt-3 flex flex-wrap gap-6",children:[s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Y,{className:"mt-0.5 h-5 w-5 shrink-0 text-emerald-600"}),s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-gray-500",children:"Revenue"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:N(u.revenue)})]})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(ee,{className:"mt-0.5 h-5 w-5 shrink-0 text-amber-600"}),s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-gray-500",children:"Expenses"}),s.jsxs("p",{className:"text-lg font-semibold text-red-600",children:["-",N(u.total_expenses)]})]})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(ee,{className:"mt-0.5 h-5 w-5 shrink-0",style:{color:m}}),s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-gray-500",children:"Net income"}),s.jsx("p",{className:"text-lg font-semibold",style:{color:m},children:N(u.net_income)})]})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx($e,{className:"mt-0.5 h-5 w-5 shrink-0 text-amber-600"}),s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-gray-500",children:"Salary payments"}),s.jsxs("p",{className:"text-lg font-semibold text-amber-600",children:["-",N(u.salary_payments)]})]})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(me,{className:"mt-0.5 h-5 w-5 shrink-0 text-gray-600"}),s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-gray-500",children:"Net after compensation"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:N(u.net_after_compensation)})]})]})]})]}),s.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-6 shadow-sm",children:[s.jsxs("h3",{className:"mb-4 flex items-center gap-2 text-lg font-medium text-gray-900",children:[s.jsx(Y,{className:"h-5 w-5",style:{color:m}}),"Sales vs Expenses"]}),s.jsx("div",{className:"h-72",children:y.length>0?s.jsx(H,{width:"100%",height:"100%",children:s.jsxs(ae,{data:y,margin:{top:10,right:10,left:0,bottom:0},children:[s.jsx(te,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),s.jsx(re,{dataKey:"label",tick:{fontSize:12},stroke:"#6b7280"}),s.jsx(se,{tick:{fontSize:12},stroke:"#6b7280",tickFormatter:l=>l>=1e3?`${(l/1e3).toFixed(0)}k`:l}),s.jsx(Z,{formatter:l=>N(l),contentStyle:{borderRadius:"8px",border:"1px solid #e5e7eb"}}),s.jsx(Ka,{}),s.jsx(F,{dataKey:"sales",name:"Sales",fill:m,radius:[4,4,0,0]}),s.jsx(F,{dataKey:"expenses",name:"Expenses",fill:v,radius:[4,4,0,0]})]})}):s.jsx("div",{className:"flex h-full items-center justify-center text-sm text-gray-500",children:"No sales or expenses data for the selected period."})})]}),s.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[s.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-6 shadow-sm",children:[s.jsxs("h3",{className:"mb-4 flex items-center gap-2 text-lg font-medium text-gray-900",children:[s.jsx(Be,{className:"h-5 w-5",style:{color:v}}),"Expenses by Category"]}),t?.length>0?s.jsx("div",{className:"h-64",children:s.jsx(H,{width:"100%",height:"100%",children:s.jsxs(Rt,{children:[s.jsx(Te,{data:t,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:80,label:({name:l,percent:p})=>`${l} ${(p*100).toFixed(0)}%`,children:t.map((l,p)=>s.jsx(ce,{fill:l.color||Pe[p%Pe.length]},l.name))}),s.jsx(Z,{formatter:l=>N(l)})]})})}):s.jsx("p",{className:"text-sm text-gray-500",children:"No expense data yet."})]}),s.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-6 shadow-sm",children:[s.jsxs("h3",{className:"mb-4 flex items-center gap-2 text-lg font-medium text-gray-900",children:[s.jsx(ee,{className:"h-5 w-5",style:{color:m}}),"Sales by Hour"]}),n?.some(l=>l.count>0)?s.jsxs(s.Fragment,{children:[c&&c.revenue>0&&s.jsxs("p",{className:"mb-3 text-sm text-gray-600",children:["Peak hour: ",s.jsx("strong",{children:c.label})," (",N(c.revenue)," revenue)"]}),s.jsx("div",{className:"h-64",children:s.jsx(H,{width:"100%",height:"100%",children:s.jsxs(ae,{data:n,margin:{top:10,right:10,left:0,bottom:0},children:[s.jsx(te,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),s.jsx(re,{dataKey:"label",tick:{fontSize:10},interval:2}),s.jsx(se,{tick:{fontSize:12},tickFormatter:l=>l>=1e3?`${(l/1e3).toFixed(0)}k`:l}),s.jsx(Z,{formatter:l=>N(l)}),s.jsx(F,{dataKey:"revenue",name:"Revenue",fill:m,radius:[4,4,0,0]})]})})})]}):s.jsx("p",{className:"text-sm text-gray-500",children:"No sales time data yet."})]})]}),s.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-6 shadow-sm overflow-hidden",children:[s.jsxs("h3",{className:"mb-4 flex items-center gap-2 text-lg font-medium text-gray-900",children:[s.jsx(Y,{className:"h-5 w-5",style:{color:m}}),"Top Products Selling"]}),s.jsxs("div",{className:"mb-4 flex flex-wrap items-center gap-3",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"From:"}),s.jsx("input",{type:"date",value:d.from_date??"",onChange:l=>g({from_date:l.target.value||void 0}),className:"rounded-md border-gray-300 text-sm focus:border-blue-500 focus:ring-blue-500"}),s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"To:"}),s.jsx("input",{type:"date",value:d.to_date??"",onChange:l=>g({to_date:l.target.value||void 0}),className:"rounded-md border-gray-300 text-sm focus:border-blue-500 focus:ring-blue-500"}),s.jsx("button",{type:"button",onClick:()=>g({from_date:void 0,to_date:void 0}),className:"text-sm text-gray-600 hover:text-gray-900 underline",children:"Clear"})]}),r?.length>0?s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"#"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Product"}),s.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500",children:"Quantity Sold"}),s.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500",children:"Total Revenue"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:r.map((l,p)=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"whitespace-nowrap px-4 py-3 text-sm text-gray-500",children:p+1}),s.jsx("td",{className:"whitespace-nowrap px-4 py-3 text-sm font-medium text-gray-900",children:l.product_name}),s.jsx("td",{className:"whitespace-nowrap px-4 py-3 text-sm text-right text-gray-600",children:N(l.total_quantity)}),s.jsx("td",{className:"whitespace-nowrap px-4 py-3 text-sm text-right font-medium text-gray-900",children:N(l.total_revenue)})]},l.product_id))})]})}):s.jsx("p",{className:"text-sm text-gray-500",children:"No product sales data for the selected date range."})]}),s.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-6 shadow-sm",children:[s.jsx("h3",{className:"mb-4 text-lg font-medium text-gray-900",children:"Sales by Day of Week"}),i?.some(l=>l.count>0)?s.jsxs(s.Fragment,{children:[x&&x.revenue>0&&s.jsxs("p",{className:"mb-3 text-sm text-gray-600",children:["Peak day: ",s.jsx("strong",{children:x.label})," (",N(x.revenue)," revenue, ",x.count," sales)"]}),s.jsx("div",{className:"h-64",children:s.jsx(H,{width:"100%",height:"100%",children:s.jsxs(ae,{data:i,margin:{top:10,right:10,left:0,bottom:0},children:[s.jsx(te,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),s.jsx(re,{dataKey:"label",tick:{fontSize:12}}),s.jsx(se,{tick:{fontSize:12},tickFormatter:l=>l>=1e3?`${(l/1e3).toFixed(0)}k`:l}),s.jsx(Z,{formatter:l=>N(l)}),s.jsx(F,{dataKey:"revenue",name:"Revenue",fill:v,radius:[4,4,0,0]}),s.jsx(F,{dataKey:"count",name:"Count",fill:m,radius:[4,4,0,0]})]})})})]}):s.jsx("p",{className:"text-sm text-gray-500",children:"No sales by day data yet."})]})]})]})}export{Wt as default};
