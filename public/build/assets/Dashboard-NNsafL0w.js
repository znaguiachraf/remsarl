import{j as e,H as g,L as m}from"./app-CNtjz-n6.js";import{P as p}from"./ProjectLayout-C2dzVJMm.js";import{ai as b,aj as u,ak as j,al as y,am as f,an as v,ao as w,ap as c}from"./BarChart-CdZOb8qk.js";import"./AuthErrorHandler-2P6lq71E.js";import"./SecondaryButton-DYJNMu7q.js";import"./transition-uswAIGXr.js";import"./Dropdown-DzIt9eqU.js";const x={"file-text":"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z",plus:"M12 4v16m8-8H4","shopping-cart":"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z","dollar-sign":"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z",package:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4",archive:"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4",users:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z","exclamation-triangle":"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z","information-circle":"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"};function i({name:t,className:r="w-5 h-5"}){const l=x[t]||x.package;return e.jsx("svg",{className:r,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:l})})}function h(t){return Number(t).toLocaleString()}function S({project:t,kpis:r=[],alerts:l=[],quickActions:o=[],chartData:n=[],employeeNotes:d=[]}){const a=t?.primary_color||"#3B82F6";return e.jsxs(p,{children:[e.jsx(g,{title:`${t?.name} - Dashboard`}),e.jsxs("div",{className:"space-y-5 sm:space-y-8",style:{paddingBottom:"max(1rem, env(safe-area-inset-bottom))"},children:[e.jsxs("div",{className:"relative overflow-hidden rounded-xl px-4 py-5 shadow-lg sm:rounded-2xl sm:px-6 sm:py-8",style:{background:`linear-gradient(135deg, ${a} 0%, ${a}dd 50%, ${a}bb 100%)`},children:[e.jsxs("div",{className:"relative z-10",children:[e.jsxs("h3",{className:"text-lg font-semibold text-white/95 sm:text-xl",children:["Welcome to ",t?.name]}),e.jsx("p",{className:"mt-1 text-sm text-white/80 line-clamp-2 sm:line-clamp-none sm:max-w-xl",children:t?.description||"Manage your business from one place."}),e.jsxs(m,{href:route("projects.index"),className:"mt-4 inline-flex min-h-[44px] items-center justify-center gap-2 rounded-xl bg-white/20 px-4 py-3 text-sm font-medium text-white backdrop-blur-sm transition active:scale-[0.98] hover:bg-white/30 touch-manipulation sm:mt-4 sm:min-h-0 sm:py-2",children:["Switch project",e.jsx("svg",{className:"h-4 w-4 shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})})]})]}),e.jsx("div",{className:"absolute -right-4 -top-4 h-20 w-20 rounded-full bg-white/10 sm:-right-8 sm:-top-8 sm:h-32 sm:w-32"}),e.jsx("div",{className:"absolute -bottom-2 -right-2 h-16 w-16 rounded-full bg-white/5 sm:-bottom-4 sm:-right-4 sm:h-24 sm:w-24"})]}),r?.length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"mb-3 text-base font-semibold text-gray-900 sm:mb-4",children:"Key metrics"}),e.jsx("div",{className:"grid grid-cols-2 gap-3 sm:grid-cols-3 sm:gap-4 lg:grid-cols-4",children:r.map(s=>e.jsxs(m,{href:s.href,className:"flex min-h-[80px] flex-col justify-center rounded-xl border border-gray-100 bg-white p-4 shadow-sm transition active:scale-[0.98] hover:border-gray-200 hover:shadow-md touch-manipulation sm:min-h-0 sm:p-5",children:[e.jsx("p",{className:"text-xs font-medium text-gray-500 sm:text-sm",children:s.label}),e.jsx("p",{className:"mt-0.5 text-xl font-bold text-gray-900 sm:mt-1 sm:text-2xl",children:h(s.value)}),s.subtext&&e.jsx("p",{className:"mt-0.5 text-xs text-amber-600 sm:text-sm",children:s.subtext})]},s.key))})]}),l?.length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"mb-3 text-base font-semibold text-gray-900 sm:mb-4",children:"Alerts"}),e.jsx("div",{className:"space-y-2",children:l.map(s=>e.jsxs(m,{href:s.href,className:`flex items-center gap-3 rounded-xl border px-4 py-3 transition hover:shadow-sm ${s.severity==="warning"?"border-amber-200 bg-amber-50 text-amber-800":"border-blue-200 bg-blue-50 text-blue-800"}`,children:[e.jsx(i,{name:s.severity==="warning"?"exclamation-triangle":"information-circle",className:"h-5 w-5 shrink-0"}),e.jsx("span",{className:"flex-1 text-sm font-medium",children:s.message}),e.jsx("svg",{className:"h-4 w-4 shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]},s.key))})]}),n?.length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"mb-3 text-base font-semibold text-gray-900 sm:mb-4",children:"Sales & expenses"}),e.jsx("div",{className:"rounded-xl border border-gray-100 bg-white p-4 shadow-sm sm:p-5",children:e.jsx("div",{className:"h-64 sm:h-72",children:e.jsx(b,{width:"100%",height:"100%",children:e.jsxs(u,{data:n,margin:{top:10,right:10,left:0,bottom:0},children:[e.jsx(j,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),e.jsx(y,{dataKey:"label",tick:{fontSize:12},stroke:"#6b7280"}),e.jsx(f,{tick:{fontSize:12},stroke:"#6b7280",tickFormatter:s=>s>=1e3?`${(s/1e3).toFixed(0)}k`:s}),e.jsx(v,{formatter:s=>h(s),contentStyle:{borderRadius:"8px",border:"1px solid #e5e7eb"}}),e.jsx(w,{}),e.jsx(c,{dataKey:"sales",name:"Sales",fill:a,radius:[4,4,0,0]}),e.jsx(c,{dataKey:"expenses",name:"Expenses",fill:t?.secondary_color||"#10B981",radius:[4,4,0,0]})]})})})})]}),e.jsx("div",{children:e.jsx("div",{className:"rounded-xl border border-gray-100 bg-white p-4 shadow-sm sm:p-5",children:d?.length>0?e.jsx("div",{className:"space-y-3",children:d.map(s=>e.jsxs("div",{className:"rounded-lg border-l-4 border-gray-200 bg-gray-50/50 px-3 py-2",style:{borderLeftColor:s.direction==="to_employee"?a:t?.secondary_color||"#10B981"},children:[e.jsx("p",{className:"text-sm text-gray-700",children:s.content}),e.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:[s.worker_name," · ",s.direction==="to_employee"?"To employee":"From employee"," · ",s.author_name]})]},s.id))}):e.jsx("p",{className:"text-sm text-gray-500",children:"No notes yet. Add a note to or from an employee."})})}),o?.length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"mb-3 text-base font-semibold text-gray-900 sm:mb-4",children:"Quick actions"}),e.jsx("div",{className:"flex flex-wrap gap-3",children:o.map(s=>e.jsxs(m,{href:s.href,className:"inline-flex min-h-[44px] items-center gap-2 rounded-xl border border-gray-200 bg-white px-4 py-3 text-sm font-medium text-gray-700 shadow-sm transition active:scale-[0.98] hover:border-gray-300 hover:bg-gray-50 touch-manipulation",style:{borderColor:a+"40"},children:[e.jsx(i,{name:s.icon,className:"h-5 w-5",style:{color:a}}),s.label]},s.key))})]}),r?.length===0&&l?.length===0&&o?.length===0&&e.jsxs("div",{className:"rounded-xl border-2 border-dashed border-gray-200 bg-gray-50/50 p-8 text-center sm:p-12",children:[e.jsx("div",{className:"mx-auto flex h-10 w-10 items-center justify-center rounded-full bg-gray-100 sm:h-12 sm:w-12",children:e.jsx(i,{name:"package",className:"h-5 w-5 text-gray-400 sm:h-6 sm:w-6"})}),e.jsx("p",{className:"mt-3 text-sm font-medium text-gray-600 sm:mt-4 sm:text-base",children:"No metrics yet"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500 sm:text-sm",children:"Enable modules (Sales, POS, Products, etc.) in project settings to see KPIs and quick actions here."})]})]})]})}export{S as default};
