import{u as h,j as s,H as j,L as g,r as _}from"./app-D_JLr605.js";import{P as y}from"./ProjectLayout-BLz5VXiF.js";import{I as m}from"./InputError-u89X4fmg.js";import{I as o}from"./InputLabel-DQ2v9w2u.js";import{P as v}from"./PrimaryButton-BodgzNLV.js";import{S as f}from"./SecondaryButton-C5Psiqnm.js";import{T as n}from"./TextInput-CUhroNdz.js";import"./AuthErrorHandler-DUQsMJae.js";import"./Dropdown-BPdzR8s0.js";import"./transition-BeUOXmgI.js";function k({project:r}){const p=r?.primary_color||"#3B82F6",u="focus:border-[var(--project-primary)] focus:ring-[var(--project-primary)]",a=h({name:r?.name??"",description:r?.description??"",address:r?.address??"",phone:r?.phone??"",city:r?.city??"",country:r?.country??"",primary_color:r?.primary_color??"#3B82F6",secondary_color:r?.secondary_color??"#10B981",status:r?.status??"active",logo:null}),t=h({mail_from_name:r?.mail_from_name??"",mail_from_address:r?.mail_from_address??"",smtp_driver:r?.smtp_driver??"smtp",smtp_host:r?.smtp_host??"",smtp_port:r?.smtp_port??"",smtp_username:r?.smtp_username??"",smtp_password:r?.smtp_password??"",smtp_encryption:r?.smtp_encryption??"tls"}),l=`mt-1 block w-full rounded-md border-gray-300 shadow-sm ${u}`,x=`mt-1 block w-full rounded-md border-gray-300 shadow-sm ${u}`;return s.jsxs(y,{header:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsxs("nav",{className:"flex text-sm text-gray-500",children:[s.jsx(g,{href:route("projects.show",r.id),className:"hover:text-gray-700",children:"Dashboard"}),s.jsx("span",{className:"mx-2",children:"/"}),s.jsx("span",{className:"text-gray-900 font-medium",children:"Settings"})]}),s.jsx("h2",{className:"mt-1 text-xl font-semibold leading-tight text-gray-800",children:"Project Settings"})]})}),children:[s.jsx(j,{title:`${r?.name} - Settings`}),s.jsxs("div",{className:"space-y-8",children:[s.jsxs("form",{onSubmit:e=>{e.preventDefault();const i=new FormData;Object.entries(a.data).forEach(([c,d])=>{c==="logo"&&d instanceof File?i.append("logo",d):d!=null&&d!==""&&c!=="logo"&&i.append(c,d)}),i.append("_method","PATCH"),_.post(route("projects.settings.project.update",r.id),i)},className:"rounded-xl border border-gray-200 bg-white p-6 shadow-sm",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Project Information"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Basic details and contact information for this project."}),s.jsxs("div",{className:"mt-6 grid gap-6 sm:grid-cols-2",children:[s.jsxs("div",{children:[s.jsx(o,{htmlFor:"name",value:"Project Name"}),s.jsx(n,{id:"name",value:a.data.name,onChange:e=>a.setData("name",e.target.value),className:l,required:!0}),s.jsx(m,{message:a.errors.name,className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(o,{htmlFor:"phone",value:"Phone"}),s.jsx(n,{id:"phone",value:a.data.phone,onChange:e=>a.setData("phone",e.target.value),className:l}),s.jsx(m,{message:a.errors.phone,className:"mt-1"})]}),s.jsxs("div",{className:"sm:col-span-2",children:[s.jsx(o,{htmlFor:"description",value:"Description"}),s.jsx("textarea",{id:"description",value:a.data.description,onChange:e=>a.setData("description",e.target.value),className:`${l} min-h-[80px]`,rows:3}),s.jsx(m,{message:a.errors.description,className:"mt-1"})]}),s.jsxs("div",{className:"sm:col-span-2",children:[s.jsx(o,{htmlFor:"address",value:"Address"}),s.jsx(n,{id:"address",value:a.data.address,onChange:e=>a.setData("address",e.target.value),className:l}),s.jsx(m,{message:a.errors.address,className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(o,{htmlFor:"city",value:"City"}),s.jsx(n,{id:"city",value:a.data.city,onChange:e=>a.setData("city",e.target.value),className:l}),s.jsx(m,{message:a.errors.city,className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(o,{htmlFor:"country",value:"Country"}),s.jsx(n,{id:"country",value:a.data.country,onChange:e=>a.setData("country",e.target.value),className:l}),s.jsx(m,{message:a.errors.country,className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(o,{htmlFor:"primary_color",value:"Primary Color"}),s.jsxs("div",{className:"mt-1 flex gap-2",children:[s.jsx("input",{type:"color",id:"primary_color",value:a.data.primary_color,onChange:e=>a.setData("primary_color",e.target.value),className:"h-10 w-14 cursor-pointer rounded border border-gray-300"}),s.jsx(n,{value:a.data.primary_color,onChange:e=>a.setData("primary_color",e.target.value),className:"block flex-1"})]})]}),s.jsxs("div",{children:[s.jsx(o,{htmlFor:"secondary_color",value:"Secondary Color"}),s.jsxs("div",{className:"mt-1 flex gap-2",children:[s.jsx("input",{type:"color",id:"secondary_color",value:a.data.secondary_color,onChange:e=>a.setData("secondary_color",e.target.value),className:"h-10 w-14 cursor-pointer rounded border border-gray-300"}),s.jsx(n,{value:a.data.secondary_color,onChange:e=>a.setData("secondary_color",e.target.value),className:"block flex-1"})]})]}),s.jsxs("div",{children:[s.jsx(o,{htmlFor:"logo",value:"Logo"}),s.jsx("input",{type:"file",id:"logo",accept:"image/*",onChange:e=>a.setData("logo",e.target.files[0]),className:l}),r?.logo&&s.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Current logo is set. Upload a new file to replace."}),s.jsx(m,{message:a.errors.logo,className:"mt-1"})]})]}),s.jsxs("div",{className:"mt-6 flex gap-3",children:[s.jsx(v,{type:"submit",disabled:a.processing,style:{backgroundColor:p},children:"Save Project Info"}),s.jsx(g,{href:route("projects.show",r.id),children:s.jsx(f,{type:"button",children:"Cancel"})})]})]}),s.jsxs("form",{onSubmit:e=>{e.preventDefault(),t.patch(route("projects.settings.email.update",r.id))},className:"rounded-xl border border-gray-200 bg-white p-6 shadow-sm",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"SMTP Settings"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Configure email to send invoices from the Sales module."}),s.jsxs("div",{className:"mt-6 grid gap-6 sm:grid-cols-2",children:[s.jsxs("div",{children:[s.jsx(o,{htmlFor:"mail_from_name",value:"Sender Name"}),s.jsx(n,{id:"mail_from_name",value:t.data.mail_from_name,onChange:e=>t.setData("mail_from_name",e.target.value),className:l,placeholder:"e.g. Company Name"}),s.jsx(m,{message:t.errors.mail_from_name,className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(o,{htmlFor:"mail_from_address",value:"Sender Email"}),s.jsx(n,{id:"mail_from_address",type:"email",value:t.data.mail_from_address,onChange:e=>t.setData("mail_from_address",e.target.value),className:l,placeholder:"e.g. noreply@example.com"}),s.jsx(m,{message:t.errors.mail_from_address,className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(o,{htmlFor:"smtp_driver",value:"SMTP Driver"}),s.jsx("select",{id:"smtp_driver",value:t.data.smtp_driver,onChange:e=>t.setData("smtp_driver",e.target.value),className:x,children:s.jsx("option",{value:"smtp",children:"smtp"})})]}),s.jsxs("div",{children:[s.jsx(o,{htmlFor:"smtp_host",value:"SMTP Host"}),s.jsx(n,{id:"smtp_host",value:t.data.smtp_host,onChange:e=>t.setData("smtp_host",e.target.value),className:l,placeholder:"e.g. smtp.gmail.com"}),s.jsx(m,{message:t.errors.smtp_host,className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(o,{htmlFor:"smtp_username",value:"SMTP Username"}),s.jsx(n,{id:"smtp_username",type:"email",value:t.data.smtp_username,onChange:e=>t.setData("smtp_username",e.target.value),className:l}),s.jsx(m,{message:t.errors.smtp_username,className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(o,{htmlFor:"smtp_password",value:"SMTP Password"}),s.jsx(n,{id:"smtp_password",type:"password",value:t.data.smtp_password==="••••••••"?"":t.data.smtp_password,onChange:e=>t.setData("smtp_password",e.target.value),className:l,placeholder:r?.smtp_password?"Leave blank to keep current":"",autoComplete:"new-password"}),s.jsx(m,{message:t.errors.smtp_password,className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(o,{htmlFor:"smtp_encryption",value:"SMTP Encryption"}),s.jsxs("select",{id:"smtp_encryption",value:t.data.smtp_encryption||"tls",onChange:e=>t.setData("smtp_encryption",e.target.value),className:x,children:[s.jsx("option",{value:"tls",children:"tls"}),s.jsx("option",{value:"ssl",children:"ssl"}),s.jsx("option",{value:"null",children:"none"})]})]}),s.jsxs("div",{children:[s.jsx(o,{htmlFor:"smtp_port",value:"SMTP Port"}),s.jsx(n,{id:"smtp_port",type:"number",min:1,max:65535,value:t.data.smtp_port,onChange:e=>t.setData("smtp_port",e.target.value?parseInt(e.target.value,10):""),className:l,placeholder:"587"}),s.jsx(m,{message:t.errors.smtp_port,className:"mt-1"})]})]}),s.jsx("div",{className:"mt-6 flex gap-3",children:s.jsx(v,{type:"submit",disabled:t.processing,style:{backgroundColor:p},children:"Save Email Settings"})})]})]})]})}export{k as default};
