import{u as p,j as e,H as b}from"./app-BOe1Q-5t.js";import{A as y,a as j}from"./AdminLayout-DJo7ev8n.js";import{P as f}from"./PrimaryButton-CbX6iTTm.js";import{S as N}from"./SecondaryButton-BbkNJ64E.js";import"./AuthErrorHandler-f-fRK3X0.js";import"./transition-CSX3AbWh.js";function i(a){return Array.isArray(a)?a:a&&typeof a=="object"?Object.values(a).filter(Boolean):[]}function S({project:a,modules:t,enabled_module_keys:d}){const l=i(d),{data:n,setData:o,patch:c,processing:m,errors:v}=p({enabled_module_keys:l}),x=s=>{const r=i(n.enabled_module_keys),g=r.includes(s)?r.filter(h=>h!==s):[...r,s];o("enabled_module_keys",g)},u=s=>{s.preventDefault(),c(route("admin.modules.update",a.id))};return e.jsxs(y,{header:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"rounded-lg bg-indigo-50 p-2",children:e.jsx(j,{icon:"modules",className:"w-6 h-6 text-indigo-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Manage Modules"}),e.jsx("p",{className:"text-sm text-gray-500",children:a?.name})]})]}),children:[e.jsx(b,{title:`Modules - ${a?.name} - Admin`}),e.jsxs("form",{onSubmit:u,className:"space-y-6",children:[e.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-6 shadow-sm",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Available Modules"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Enable or disable modules for this project. Enabled modules will appear in the project sidebar."}),e.jsx("div",{className:"mt-6 grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:t?.map(s=>{const r=i(n.enabled_module_keys).includes(s.key);return e.jsxs("label",{className:`flex cursor-pointer items-start gap-4 rounded-lg border p-4 transition ${r?"border-indigo-200 bg-indigo-50/50":"border-gray-200 bg-white hover:border-gray-300"}`,children:[e.jsx("input",{type:"checkbox",checked:r,onChange:()=>x(s.key),className:"mt-1 h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("span",{className:"font-medium text-gray-900",children:s.name})}),s.description&&e.jsx("p",{className:"mt-0.5 text-sm text-gray-500",children:s.description})]})]},s.key)})}),(!t||t.length===0)&&e.jsx("p",{className:"text-sm text-gray-500",children:"No modules available."})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(f,{type:"submit",disabled:m,children:"Save Changes"}),e.jsx(N,{type:"button",onClick:()=>window.history.back(),children:"Cancel"})]})]})]})}export{S as default};
